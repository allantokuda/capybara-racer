<!DOCTYPE html>
<html>
<body>

<script>
  var timeout1;
  function changeValue(text) {
    document.getElementById('test-subject').innerHTML = text;
  }

  function helloWorld() {
    changeValue('Hello, world!');
  }

  function clearHello() {
    changeValue('-----');
  }

  function changeAfterDelay() {
    if (Math.random() > 0.5) {
      setTimeout(helloWorld, 100);
    } else {
      helloWorld()
    }
    if (timeout1) { clearTimeout(timeout1); }
    timeout1 = setTimeout(clearHello, 2000);
  }
</script>

<center>
<br><br>
<br><br>
<br><br>
<span id="test-subject">-----</span>
<br><br>
<br><br>
<br><br>
<br><br>
<a href="#" onclick="changeAfterDelay()">Say Hello</a><br>
<a href="#" onclick="changeValue('-----')">Reset</a><br>
</center>

</body>
</html>
