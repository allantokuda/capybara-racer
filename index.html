<!DOCTYPE html>
<html>
<body>

<script>
  var timeout1;
  function changeValue(text) {
    document.getElementById('output-box').innerHTML = text;
  }

  function helloWorld() {
    changeValue('Hello, world!');
  }

  function clearHello() {
    changeValue('-----');
  }

  function changeAfterDelay() {
    if (Math.random() > 0.5) {
      setTimeout(helloWorld, 100);
    } else {
      helloWorld()
    }
    if (timeout1) { clearTimeout(timeout1); }
    timeout1 = setTimeout(clearHello, 1500);
  }
</script>

<style>
#output-box {
  background: #DEF;
  border: 1px solid #BCD;
  display: inline-block;
  padding: 30px;
  margin: 100px;
  width: 200px;
}
</style>
<center>
<div>
<span id="output-box">-----</span>
</div>
<a href="#" onclick="changeAfterDelay()">Say Hello</a><br>
<a href="#" onclick="changeValue('-----')">Reset</a><br>
</center>

</body>
</html>
